
---
title: "Session 3 â€” Azure CLI ã§ rg-aoai ã‚’ä½œæˆã—ã€ã‚¯ãƒ©ã‚¦ãƒ‰ã¸ 1 æ­©ç›®ã‚’ãƒ‡ãƒ—ãƒ­ã‚¤"
emoji: "ğŸ”§"
type: "tech"
topics: ["azure", "cli", "resource-group", "roadmap"]
series: "Build Your GenAI Stack in 40 Sessions"
published: true            # å…¬é–‹ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§ true ã«å¤‰æ›´
publication_date: "2025-07-09"
---

## TL;DR
- **Azure CLI ã‚’ winget ã§å°å…¥ â†’ ãƒ‡ãƒã‚¤ã‚¹ã‚³ãƒ¼ãƒ‰èªè¨¼ã§ãƒ­ã‚°ã‚¤ãƒ³**  
- Japan East ã« **`rg-aoai` ãƒªã‚½ãƒ¼ã‚¹ã‚°ãƒ«ãƒ¼ãƒ—** ã‚’æ–°è¦ä½œæˆ  
- `infra/rg-aoai.json` ã§ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆä¿å­˜ï¼ˆPublic Repo ã¯ .gitignore æ¨å¥¨ï¼‰  
- ã‚³ã‚¹ãƒˆ **Â¥0**ã€ã‚¯ãƒ©ã‚¦ãƒ‰å´ã®åœŸå°ãŒå®Œæˆ

---

## 1. ä»Šæ—¥ã®ã‚´ãƒ¼ãƒ«
| é …ç›® | å†…å®¹ |
|------|------|
| CLI å°å…¥ | `winget install Microsoft.AzureCLI` |
| èªè¨¼ | `az login --use-device-code` |
| RG ä½œæˆ | `az group create -n rg-aoai -l japaneast` |
| è¨¼è·¡ä¿å­˜ | `infra/rg-aoai.json` (å¿…è¦ã«å¿œã˜ã¦ .gitignore) |
| ã‚³ã‚¹ãƒˆ | Â¥0 |

---

## 2. æ‰‹é †ãƒã‚¤ãƒ©ã‚¤ãƒˆï¼ˆ40 minï¼‰

```powershell
# Azure CLI install & update (5 min)
winget install -e --id Microsoft.AzureCLI
az upgrade --yes               # 2 å›ç›®ä»¥é™

# ãƒ‡ãƒã‚¤ã‚¹ã‚³ãƒ¼ãƒ‰èªè¨¼ (7 min)
az login --use-device-code     # ãƒ–ãƒ©ã‚¦ã‚¶ã«ã‚³ãƒ¼ãƒ‰å…¥åŠ›

# ã‚µãƒ–ã‚¹ã‚¯ç¢ºèª
az account show --query "{name:name,id:id}"

# (ä»»æ„) ã‚¿ãƒ¼ã‚²ãƒƒãƒˆå›ºå®š
az account set --subscription <id>

# ãƒªã‚½ãƒ¼ã‚¹ã‚°ãƒ«ãƒ¼ãƒ—ä½œæˆ (5 min)
az group create -n rg-aoai -l japaneast

# JSON ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆä¿å­˜ (3 min)
mkdir infra            # ç„¡ã‘ã‚Œã°
az group show -n rg-aoai -o json > infra\rg-aoai.json
````

> **Public ãƒªãƒã®å ´åˆ**
> ã‚µãƒ–ã‚¹ã‚¯ ID ã‚’å…¬é–‹ã—ãŸããªã‘ã‚Œã°
>
> ```powershell
> echo infra/ >> .gitignore
> git add .gitignore
> ```

```powershell
# Git commit & push (5 min)
git add infra\rg-aoai.json
git commit -m "session3: azure cli & rg"
git push
```

---

## 3. ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ

![](/images/session3-rg-created.png)
*CLI ã§ `provisioningState": "Succeeded"` ãŒè¡¨ç¤ºã•ã‚ŒãŸ*

---

## 4. ã¤ã¾ãšã & è§£æ±º

| ãƒˆãƒ©ãƒ–ãƒ«                          | åŸå›               | è§£æ±ºç­–                                                     |
| ----------------------------- | --------------- | ------------------------------------------------------- |
| `DirectoryNotFound infra` ã‚¨ãƒ©ãƒ¼ | å…ˆã«ãƒ•ã‚©ãƒ«ãƒ€ç„¡ã—ã§ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ | `mkdir infra` â†’ å†å®Ÿè¡Œ                                     |

---

## 5. ä»Šæ—¥ã®ã‚³ã‚¹ãƒˆ

| ãƒªã‚½ãƒ¼ã‚¹  | æ™‚é–“ | Â¥ |
| ----- | -- | - |
| RG ä½œæˆ | 0  | 0 |

ç´¯è¨ˆ **Â¥0 / Â¥3,500**

---

## 6. å­¦ã³ãƒ¡ãƒ¢

* **winget + device code** ã§ UI ã‚’ã»ã¼ä½¿ã‚ãš Azure ã«å…¥é–€ã§ãã‚‹
* RG ã‚’ 1 ã¤ã«ã¾ã¨ã‚ã¦ãŠãã¨ **ä¸€æ‹¬å‰Šé™¤ã§ã‚³ã‚¹ãƒˆæ¼ã‚Œé˜²æ­¢**
* JSON ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆã¯ **IaC ã¸ã®å¸ƒçŸ³**ã€‚å…¬é–‹å¯å¦ã¯ .gitignore ã§åˆ¶å¾¡

---

## 7. æ¬¡ã‚»ãƒƒã‚·ãƒ§ãƒ³äºˆå‘Š (Session 4)

* **Cost Management / Budgets** ã‚’ 3,500 JPY ã«è¨­å®š
* 50 % / 85 % / 100 % ã‚¢ãƒ©ãƒ¼ãƒˆã‚’ CLI & Portal ã§æ§‹æˆ
* Azure ã®ã€Œè«‹æ±‚ã‚·ãƒ§ãƒƒã‚¯ã€ã‚’æœªç„¶ã«é˜²ã âš ï¸