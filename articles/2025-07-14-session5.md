---
title: "Session 5 â€” East US ã« gpt-4o-mini ã‚’ Standard ã§ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¦ã¿ãŸ"
emoji: "ğŸš€"
type: "tech"
topics: ["azure", "openai", "gpt4o", "python"]
series: "Build Your GenAI Stack in 40 Sessions"
published: true          # å…¬é–‹æ—¥ã« true
publication_date: "2025-07-14"
---

## TL;DR
- **Japan East ã¯ Standard ã§ã®ãƒ‡ãƒ—ãƒ­ã‚¤ã¯æœªå¯¾å¿œ**ã ã£ãŸã®ã§ã€**East US ã« Standard ã§ `gpt-4o-mini`** ã‚’ãƒ‡ãƒ—ãƒ­ã‚¤  
- `.env` ã« KEY/ENDPOINT ã‚’ä¿å­˜ â†’ **Hello!** å¿œç­”ç¢ºèª  
- ã‹ã‹ã£ãŸã‚³ã‚¹ãƒˆã¯ **8 k / 1.7 k tok â‰’ Â¥0.33** ï¼ˆã»ã¼ã‚¿ãƒ€ï¼ï¼‰

---

## 1. ä»Šå›ã®ã‚´ãƒ¼ãƒ«
| é …ç›® | å†…å®¹ |
|------|------|
| ãƒ¢ãƒ‡ãƒ« | gpt-4o-mini (Standard SKU, Pay-go) |
| ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ | East US |
| ãƒ‡ãƒ—ãƒ­ã‚¤å | `mini` |
| æˆæœç‰© | `.env`, `hello_mini.py`, ã‚¹ã‚¯ã‚·ãƒ§ 3 æš |
| ã‚³ã‚¹ãƒˆ | â‰ˆ Â¥0.33 |

---

## 2. æ‰‹é †ãƒã‚¤ãƒ©ã‚¤ãƒˆï¼ˆ40 minï¼‰

```powershell
# 1. å¤‰æ•°
$RG=rg-aoai; $LOC=eastus

# 2. RG ã¯æ—¢å­˜ã‚’æµç”¨
az group create -n $RG -l japaneast   # â† æ—¢å­˜ãªã‚‰ã‚¹ã‚­ãƒƒãƒ—

# 3. AOAI ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ (East US)
az cognitiveservices account create -n aoai-$LOC -g $RG -l $LOC \
  --kind OpenAI --sku S0 --yes

# 4. ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆ
az cognitiveservices account deployment create -g $RG -n aoai-$LOC \
  --deployment-name mini \
  --model-name gpt-4o-mini --model-version 2024-07-18 \
  --model-format OpenAI --sku-name Standard --sku-capacity 1

# 5. ã‚­ãƒ¼ / ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ
$KEY=(az cognitiveservices account keys list -n aoai-$LOC -g $RG --query key1 -o tsv)
$ENDP=(az cognitiveservices account show -n aoai-$LOC -g $RG --query properties.endpoint -o tsv)

# 6. .env
echo AZURE_OPENAI_ENDPOINT=$ENDP     >  .env
echo AZURE_OPENAI_API_KEY=$KEY       >> .env
echo AZURE_OPENAI_DEPLOYMENT=mini    >> .env
````

---

## hello\_mini.py

```python
from dotenv import load_dotenv
import os
from openai import AzureOpenAI

load_dotenv()

client = AzureOpenAI(
    api_key=os.getenv("AZURE_OPENAI_API_KEY"),
    azure_endpoint=os.getenv("AZURE_OPENAI_ENDPOINT"),
    api_version="2024-02-15-preview"
)

resp = client.chat.completions.create(
    model=os.getenv("AZURE_OPENAI_DEPLOYMENT", "mini"),   # â† ã“ã“ã‚’ model=
    messages=[{"role": "user", "content": "ã“ã‚“ã«ã¡ã¯!"}],
    temperature=0.7
)
print(resp.choices[0].message.content)
```

---

## 3. ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ

![](/images/s5-deployment-ok.png)
*mini ãŒ Succeeded*

![](/images/s5-key-endpoint.png)
*ã‚­ãƒ¼ã¨ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆï¼ˆã‚­ãƒ¼ã¯ä¼ã›å­—ï¼‰*

![](/images/s5-hello-output.png)
*Python ã‚¹ã‚¯ãƒªãƒ—ãƒˆã§å¿œç­”å–å¾—*

---

## 4. ä»Šæ—¥ã®ã‚³ã‚¹ãƒˆ

| ãƒ¢ãƒ‡ãƒ«         | in tok | out tok | Â¥         |
| ----------- | ------ | ------- | --------- |
| gpt-4o-mini | 8,550  | 1,710   | **Â¥0.33** |

ç´¯è¨ˆ **Â¥0.33 / Â¥3,500**

---

## 5. ãƒãƒã‚Š & å­¦ã³

* Japan East ã¯ Stabdardã§ã¯ãƒ‡ãƒ—ãƒ­ã‚¤ã§ããªã„ âœ **East US ã‚’é¸æŠ**
* `openai v1` ã§ã¯ **model=ãƒ‡ãƒ—ãƒ­ã‚¤å** ã‚’æ¸¡ã™
* `.env` ã‚’ Git é™¤å¤–ã—ãªã„ã¨ KEY ãŒæ¼ãˆã„

---

## æ¬¡ã‚»ãƒƒã‚·ãƒ§ãƒ³ã®äºˆå‘Š(Session 6)

* Python æ–‡æ³•ã®å¾©ç¿’

```

ã“ã‚Œã‚’ãƒ™ãƒ¼ã‚¹ã«ã€ã‚¹ã‚¯ã‚·ãƒ§ã ã‘å·®ã—æ›¿ãˆã‚Œã° **â€œèª°ã§ã‚‚åŒã˜çµæœãŒå‡ºã‚‹â€** è¨˜äº‹ã«ãªã‚Šã¾ã™ï¼

```
